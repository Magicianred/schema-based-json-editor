!function(e){function t(t){for(var n,o,s=t[0],l=t[1],p=t[2],c=0,h=[];c<s.length;c++)o=s[c],i[o]&&h.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);h.length;)h.shift()();return a.push.apply(a,p||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==i[l]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={2:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],r=i[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,n){r=i[e]=[t,n]});t.push(r[2]=n);var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.charset="utf-8",s.timeout=12e4,o.nc&&s.setAttribute("nonce",o.nc),s.src=o.p+""+({}[e]||e)+".bundle.js";var l=setTimeout(function(){p({type:"timeout",target:s})},12e4);function p(t){s.onerror=s.onload=null,clearTimeout(l);var r=i[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+a+")");o.type=n,o.request=a,r[1](o)}i[e]=void 0}}s.onerror=s.onload=p,a.appendChild(s)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var u=l;a.push([20,0]),r()}({20:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),a=r(3),o=r(12),s=r.n(o),l=r(11),p=r.n(l),u=r(10),c=r.n(u),h=r(19),m=r.n(h),d=r(18),f=r(17),g=r(4);window.__extends=g.c,window.__decorate=g.b,window.__assign=g.a;var y={bootstrap3:{card:"well",row:"row",input:"form-control",textarea:"form-control",button:"btn btn-default",description:"help-block",errorRow:"row has-error",title:"control-label",checkbox:"checkbox pull-left",buttonGroup:"btn-group",radiobox:"radio-inline"},antd3:{card:"ant-card ant-card-bordered ant-card-body",row:"ant-row",input:"ant-input",textarea:"ant-input",button:"ant-btn",description:"ant-form-explain",errorRow:"ant-row has-error",title:"ant-form-item-label",checkbox:"ant-checkbox",buttonGroup:"ant-btn-group",radiobox:"ant-radio"},"element-ui2":{card:"el-form el-card box-card el-card__body",row:"el-form-item",input:"el-input__inner",textarea:"el-textarea__inner",button:"el-button el-button--default el-button--small",description:"",errorRow:"el-form-item is-error",title:"el-form-item__label",checkbox:"el-checkbox",buttonGroup:"el-button-group",radiobox:"el-radio"}},v={card:"schema-based-json-editor--card",row:"schema-based-json-editor--row",input:"schema-based-json-editor--input",textarea:"schema-based-json-editor--textarea",button:"schema-based-json-editor--button",description:"schema-based-json-editor--description",errorRow:"schema-based-json-editor--error-row",title:"schema-based-json-editor--title",checkbox:"schema-based-json-editor--checkbox",buttonGroup:"schema-based-json-editor--button-group",radiobox:"schema-based-json-editor--radiobox"};for(var b in y)for(var x in y[b])y[b][x]+=" "+v[x];var E={button:{collapse:"Collapse",expand:"Expand",add:"Add",delete:"Delete"},error:{minLength:"Value must be at least {0} characters long.",maxLength:"Value must be at most {0} characters long.",pattern:"Value doesn't match the pattern {0}.",minimum:"Value must be >= {0}.",maximum:"Value must be <= {0}.",largerThan:"Value must be > {0}.",smallerThan:"Value must be < {0}.",minItems:"The length of the array must be >= {0}.",uniqueItems:"The item in {0} and {1} must not be same.",multipleOf:"Value must be multiple value of {0}.",minProperties:"Properties count must be >= {0}.",maxProperties:"Properties count must be <= {0}."},info:{notExists:"not exists",true:"true",false:"false",search:"search"},markdownTipLocale:d.a,fileUploaderLocale:f.a};var O={bootstrap3:{isText:!1,collapse:"glyphicon glyphicon-chevron-down",expand:"glyphicon glyphicon-chevron-right",add:"glyphicon glyphicon-plus",delete:"glyphicon glyphicon-remove"},fontawesome4:{isText:!1,collapse:"fa fa-caret-square-o-down",expand:"fa fa-caret-square-o-right",add:"fa fa-plus",delete:"fa fa-times"},fontawesome5:{isText:!1,collapse:"fas fa-caret-square-down",expand:"fas fa-caret-square-right",add:"fas fa-plus",delete:"fas fa-times"},antd3:{isText:!1,collapse:"anticon anticon-down",expand:"anticon anticon-right",add:"anticon anticon-plus",delete:"anticon anticon-close"},"element-ui2":{isText:!1,collapse:"el-icon-arrow-down",expand:"el-icon-arrow-right",add:"el-icon-plus",delete:"el-icon-close"}};function w(e,t,r){if(void 0!==r)switch(t.type){case"object":if(c()(r))return r;break;case"array":if(Array.isArray(r))return r;break;case"number":case"integer":if("number"==typeof r)return r;break;case"boolean":if("boolean"==typeof r)return r;break;case"string":if("string"==typeof r)return r;break;case"null":default:if(null===r)return r}if(e){if(void 0!==t.default)switch(t.type){case"object":if(c()(t.default))return t.default;break;case"array":if(Array.isArray(t.default))return t.default;break;case"number":case"integer":if("number"==typeof t.default)return t.default;break;case"boolean":if("boolean"==typeof t.default)return t.default;break;case"string":if("string"==typeof t.default)return t.default;break;case"null":default:if(null===t.default)return t.default}switch(t.type){case"object":return{};case"array":return[];case"number":case"integer":return void 0!==t.enum&&t.enum.length>0?t.enum[0]:0;case"boolean":return!1;case"string":return void 0!==t.enum&&t.enum.length>0?t.enum[0]:"";case"null":default:return null}}}var j={marginLeft:"10px"};function P(e,t){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e||null===e||void 0===e)return e===t;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||null===t||void 0===t)return!1;if(Array.isArray(e)){if(Array.isArray(t)&&e.length===t.length){for(var r=0;r<e.length;r++)if(!P(e[r],t[r]))return!1;return!0}return!1}if(Array.isArray(t)||Object.keys(e).length!=Object.keys(e).length)return!1;for(var n in e)if(e.hasOwnProperty(n)&&!P(e[n],t[n]))return!1;return!0}function V(e,t,r){return void 0===e?w(!0,t,r):void 0}var k=[".png",".jpg",".bmp",".gif"];function S(e){return 0===e.indexOf("http://")&&0!==e.indexOf("http://localhost")?"https://"+e.substring("http://".length):e}var R="display: block; height: auto; margin: 6px 0; max-width: 100%;",C={display:"block",height:"auto",margin:"6px 0",maxWidth:"100%"};function M(e){console.log(e)}function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r];if(void 0!==i&&null!==i)return String(i)}return""}function N(e,t){return"number"==typeof e.schema.propertyOrder?"number"==typeof t.schema.propertyOrder?e.schema.propertyOrder-t.schema.propertyOrder:-1:"number"==typeof t.schema.propertyOrder?1:0}var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.b(t,e),t.prototype.render=function(){return this.props.valid?this.props.icon.isText?i.createElement("button",{className:this.props.theme.button,onClick:this.props.onClick},this.props.text):i.createElement("button",{className:this.props.theme.button,onClick:this.props.onClick},i.createElement("i",{className:this.props.text})):null},t}(i.Component),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.b(t,e),t.prototype.render=function(){return this.props.required||void 0!==this.props.value&&this.props.isReadOnly?null:i.createElement("div",{className:this.props.theme.checkbox},i.createElement("label",null,i.createElement("input",{type:"checkbox",onChange:this.props.toggleOptional,checked:void 0===this.props.value,disabled:this.props.isReadOnly}),this.props.locale.info.notExists))},t}(i.Component),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.b(t,e),t.prototype.render=function(){return this.props.notEmpty||this.props.message?i.createElement("p",{className:this.props.theme.description},this.props.message):null},t}(i.Component),A=function(e){function t(t){var r=e.call(this,t)||this;if(r.collapsed=r.props.schema.collapsed,r.invalidProperties=[],r.properties=[],r.filter="",r.collapseOrExpand=function(){r.collapsed=!r.collapsed,r.setState({collapsed:r.collapsed})},r.toggleOptional=function(){r.value=V(r.value,r.props.schema,r.props.initialValue),r.validate(),r.setState({value:r.value}),r.props.updateValue(r.value,0===r.invalidProperties.length)},r.onFilterChange=function(e){r.filter=e.currentTarget.value,r.setState({filter:r.filter})},r.onChange=function(e,t,n){for(var i in r.value[e]=t,r.props.schema.properties)!1===r.isRequired(i)&&(r.value[i]=void 0);r.validate(),r.setState({value:r.value}),function(e,t,r){var n=e.indexOf(r);t?-1!==n&&e.splice(n,1):-1===n&&e.push(r)}(r.invalidProperties,n,e),r.props.updateValue(r.value,!r.errorMessage&&0===r.invalidProperties.length)},r.value=w(r.props.required,r.props.schema,r.props.initialValue),r.validate(),void 0!==r.value){var n=function(e){if(i.props.schema.properties.hasOwnProperty(e)){var t=i.props.schema.properties[e],r=i.props.schema.required&&i.props.schema.required.some(function(t){return t===e});i.value[e]=w(r,t,i.value[e]),i.properties.push({property:e,schema:t})}},i=this;for(var a in r.props.schema.properties)n(a);r.properties=r.properties.sort(N)}return r}return n.b(t,e),t.prototype.componentDidMount=function(){this.props.updateValue(this.value,0===this.invalidProperties.length)},t.prototype.render=function(){var e=this,t=this.collapsed||void 0===this.value?[]:this.properties.filter(function(t){return r=t,n=e.filter,i=r.property,a=r.schema,(""===n||-1!==i.indexOf(n)||!!a.title&&-1!==a.title.indexOf(n)||!!a.description&&-1!==a.description.indexOf(n))&&!1!==e.isRequired(t.property);var r,n,i,a}).map(function(t){var r=t.property,n=t.schema;return i.createElement(W,{key:r+e.isRequired(r),schema:n,title:n.title||r,initialValue:e.value[r],updateValue:function(t,n){return e.onChange(r,t,n)},theme:e.props.theme,icon:e.props.icon,locale:e.props.locale,required:e.isRequired(r),readonly:e.isReadOnly,dragula:e.props.dragula,md:e.props.md,hljs:e.props.hljs,forceHttps:e.props.forceHttps})}),r=!this.collapsed&&void 0!==this.value&&this.showFilter?i.createElement("div",{className:this.props.theme.row},i.createElement("input",{className:this.props.theme.input,onChange:this.onFilterChange,placeholder:this.props.locale.info.search,defaultValue:this.filter})):null;return i.createElement("div",{className:this.errorMessage?this.props.theme.errorRow:this.props.theme.row},i.createElement("h3",null,this.titleToShow,i.createElement("div",{className:this.props.theme.buttonGroup,style:j},i.createElement(D,{required:this.props.required,value:this.value,isReadOnly:this.isReadOnly,theme:this.props.theme,locale:this.props.locale,toggleOptional:this.toggleOptional}),i.createElement(T,{valid:!0,onClick:this.collapseOrExpand,text:this.collapsed?this.props.icon.expand:this.props.icon.collapse,theme:this.props.theme,icon:this.props.icon}),i.createElement(T,{valid:this.hasDeleteButtonFunction,onClick:this.props.onDelete,text:this.props.icon.delete,theme:this.props.theme,icon:this.props.icon}))),i.createElement(I,{theme:this.props.theme,message:this.props.schema.description}),i.createElement("div",{className:this.props.theme.card},r,t),i.createElement(I,{theme:this.props.theme,message:this.errorMessage}))},t.prototype.isRequired=function(e){return function(e,t,r,n){if(e&&e.some(function(e){return e===n}))return!0;if(t&&r.properties[n]){var i=r.properties[n].requiredWhen;if(i){var a=i[0],o=i[1],s=i[2];if(r.properties[a])return"==="===o?t[a]===s:"in"===o?Array.isArray(s)&&-1!==s.indexOf(t[a]):void 0}}}(this.props.schema.required,this.value,this.props.schema,e)},t.prototype.validate=function(){this.errorMessage=function(e,t,r){if(void 0!==e){var n=0;for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&n++;if(void 0!==t.minProperties&&n<t.minProperties)return r.error.minProperties.replace("{0}",String(t.minProperties));if(void 0!==t.maxProperties&&n>t.maxProperties)return r.error.maxProperties.replace("{0}",String(t.maxProperties))}return""}(this.value,this.props.schema,this.props.locale)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.props.readonly||this.props.schema.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeleteButtonFunction",{get:function(){return this.props.onDelete&&!this.isReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleToShow",{get:function(){return this.props.onDelete?q(function(e,t){if(e)for(var r=0,n=t;r<n.length;r++){var i=e[n[r].property];if("string"==typeof i&&i.length>0)return i.length>23?i.substring(0,20)+"...":i}}(this.value,this.properties),this.props.title,this.props.schema.title):q(this.props.title,this.props.schema.title)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilter",{get:function(){var e=this;return this.properties.filter(function(t){return!1!==e.isRequired(t.property)}).length>=6},enumerable:!0,configurable:!0}),t}(i.Component),_=function(e){function t(t){var r=e.call(this,t)||this;return r.renderSwitch=1,r.collapsed=r.props.schema.collapsed,r.invalidIndexes=[],r.filter="",r.collapseOrExpand=function(){r.collapsed=!r.collapsed,r.setState({collapsed:r.collapsed})},r.toggleOptional=function(){r.value=V(r.value,r.props.schema,r.props.initialValue),r.validate(),r.setState({value:r.value}),r.props.updateValue(r.value,!r.errorMessage&&0===r.invalidIndexes.length)},r.addItem=function(){r.value.push(w(!0,r.props.schema.items,void 0)),r.setState({value:r.value}),r.props.updateValue(r.value,!r.errorMessage&&0===r.invalidIndexes.length)},r.onChange=function(e,t,n){r.value[e]=t,r.setState({value:r.value}),r.validate(),function(e,t,r){var n=e.indexOf(r);t?-1!==n&&e.splice(n,1):-1===n&&e.push(r)}(r.invalidIndexes,n,e),r.props.updateValue(r.value,!r.errorMessage&&0===r.invalidIndexes.length)},r.onFilterChange=function(e){r.filter=e.currentTarget.value,r.setState({filter:r.filter})},r.onDeleteFunction=function(e){r.value.splice(e,1),r.renderSwitch=-r.renderSwitch,r.setState({value:r.value,renderSwitch:r.renderSwitch}),r.validate(),r.props.updateValue(r.value,!r.errorMessage&&0===r.invalidIndexes.length)},r.value=w(r.props.required,r.props.schema,r.props.initialValue),r.validate(),r}return n.b(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.props.updateValue(this.value,!this.errorMessage&&0===this.invalidIndexes.length),this.props.dragula){var t=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("DIV"===r.nodeName)return r}}(a.findDOMNode(this).childNodes);this.drak=this.props.dragula([t]),this.drak.on("drop",function(t,r,n,i){e.value&&(!function(e,t,r){var n=+t.dataset.index;if(r){var i=+r.dataset.index;e.splice(i,0,e[n]),n>i?e.splice(n+1,1):e.splice(n,1)}else e.push(e[n]),e.splice(n,1)}(e.value,t,i),e.renderSwitch=-e.renderSwitch,e.setState({value:e.value,renderSwitch:e.renderSwitch}),e.props.updateValue(e.value,!e.errorMessage&&0===e.invalidIndexes.length))})}},t.prototype.componentWillUnmount=function(){this.drak&&this.drak.destroy()},t.prototype.render=function(){var e=this,t=this.getValue.map(function(e,t){return{p:e,i:t}}).filter(function(t){var r,n,i,a,o=t.p,s=t.i;return r=o,n=s,i=e.props.schema.items,""===(a=e.filter)||-1!==String(n).indexOf(a)||"string"===i.type&&-1!==r.indexOf(a)||("number"===i.type||"integer"===i.type)&&-1!==String(r).indexOf(a)||"object"===i.type&&-1!==q(function(e,t){if(e)for(var r in t.properties)if(t.properties.hasOwnProperty(r)){var n=e[r];if("string"==typeof n&&n.length>0)return n.length>23?n.substring(0,20)+"...":n}}(r,i),i.title).indexOf(a)}).map(function(t){t.p;var r=t.i;return i.createElement("div",{key:(1+r)*e.renderSwitch,"data-index":r,className:e.props.theme.card},i.createElement(W,{schema:e.props.schema.items,title:String(r),initialValue:e.getValue[r],updateValue:function(t,n){return e.onChange(r,t,n)},theme:e.props.theme,icon:e.props.icon,locale:e.props.locale,required:!0,readonly:e.isReadOnly,onDelete:function(){return e.onDeleteFunction(r)},dragula:e.props.dragula,md:e.props.md,hljs:e.props.hljs,forceHttps:e.props.forceHttps}))}),r=!this.collapsed&&void 0!==this.value&&this.showFilter?i.createElement("div",{className:this.props.theme.row},i.createElement("input",{className:this.props.theme.input,onChange:this.onFilterChange,defaultValue:this.filter})):null;return i.createElement("div",{className:this.errorMessage?this.props.theme.errorRow:this.props.theme.row},i.createElement("h3",null,this.titleToShow,i.createElement("div",{className:this.props.theme.buttonGroup,style:j},i.createElement(D,{required:this.props.required,value:this.value,isReadOnly:this.isReadOnly,theme:this.props.theme,locale:this.props.locale,toggleOptional:this.toggleOptional}),i.createElement(T,{valid:!0,onClick:this.collapseOrExpand,text:this.collapsed?this.props.icon.expand:this.props.icon.collapse,theme:this.props.theme,icon:this.props.icon}),i.createElement(T,{valid:this.hasAddButton,onClick:this.addItem,text:this.props.icon.add,theme:this.props.theme,icon:this.props.icon}),i.createElement(T,{valid:this.hasDeleteButtonFunction,onClick:this.props.onDelete,text:this.props.icon.delete,theme:this.props.theme,icon:this.props.icon}))),i.createElement(I,{theme:this.props.theme,message:this.props.schema.description,notEmpty:!0}),i.createElement("div",{className:this.props.theme.card},r,t),i.createElement(I,{theme:this.props.theme,message:this.errorMessage}))},t.prototype.validate=function(){this.errorMessage=function(e,t,r){if(void 0!==e){if(void 0!==t.minItems&&e.length<t.minItems)return r.error.minItems.replace("{0}",String(t.minItems));if(t.uniqueItems)for(var n=1;n<e.length;n++)for(var i=0;i<n;i++)if(P(e[n],e[i]))return r.error.uniqueItems.replace("{0}",String(i)).replace("{1}",String(n))}return""}(this.value,this.props.schema,this.props.locale)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.props.readonly||this.props.schema.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeleteButtonFunction",{get:function(){return this.props.onDelete&&!this.isReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAddButton",{get:function(){return!this.isReadOnly&&void 0!==this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValue",{get:function(){return void 0===this.value||this.collapsed?[]:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleToShow",{get:function(){return q(this.props.title,this.props.schema.title)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilter",{get:function(){return this.getValue.length>=6},enumerable:!0,configurable:!0}),t}(i.Component),F=r(5),L=function(e){function t(t){var r=e.call(this,t)||this;return r.willRender=!1,r.onChange=function(e){r.value="integer"===r.props.schema.type?p.a(e.currentTarget.value):s.a(e.currentTarget.value),r.validate(),r.setState({value:r.value}),r.props.updateValue(r.value,!r.errorMessage)},r.toggleOptional=function(){r.value=V(r.value,r.props.schema,r.props.initialValue),r.validate(),r.willRender=!0,r.setState({value:r.value}),r.props.updateValue(r.value,!r.errorMessage)},r.value=w(r.props.required,r.props.schema,r.props.initialValue),r.validate(),r}return n.b(t,e),t.prototype.componentDidMount=function(){this.props.updateValue(this.value,!this.errorMessage)},t.prototype.shouldComponentUpdate=function(e,t){return this.willRender?(this.willRender=!1,!0):this.props.initialValue!==e.initialValue},t.prototype.render=function(){var e=this,t=this.useInput?i.createElement("input",{className:this.props.theme.input,type:"number",onChange:this.onChange,defaultValue:String(this.value),readOnly:this.isReadOnly,disabled:this.isReadOnly}):null,r=this.useSelect?i.createElement(F.a,{data:this.options,value:this.value,update:function(t){return e.updateSelection(t)}}):null;return i.createElement("div",{className:this.errorMessage?this.props.theme.errorRow:this.props.theme.row},i.createElement("label",{className:this.props.theme.title},this.titleToShow,i.createElement("div",{className:this.props.theme.buttonGroup,style:j},i.createElement(D,{required:this.props.required,value:this.value,isReadOnly:this.isReadOnly,theme:this.props.theme,locale:this.props.locale,toggleOptional:this.toggleOptional}),i.createElement(T,{valid:this.hasDeleteButtonFunction,onClick:this.props.onDelete,text:this.props.icon.delete,theme:this.props.theme,icon:this.props.icon}))),t,r,i.createElement(I,{theme:this.props.theme,message:this.props.schema.description}),i.createElement(I,{theme:this.props.theme,message:this.errorMessage}))},t.prototype.validate=function(){this.errorMessage=function(e,t,r){if(void 0!==e){if(void 0!==t.minimum)if(t.exclusiveMinimum){if(e<=t.minimum)return r.error.largerThan.replace("{0}",String(t.minimum))}else if(e<t.minimum)return r.error.minimum.replace("{0}",String(t.minimum));if(void 0!==t.maximum)if(t.exclusiveMaximum){if(e>=t.maximum)return r.error.smallerThan.replace("{0}",String(t.maximum))}else if(e>t.maximum)return r.error.maximum.replace("{0}",String(t.maximum));if(t.multipleOf&&t.multipleOf>0&&!m()(e/t.multipleOf))return r.error.multipleOf.replace("{0}",String(t.multipleOf))}return""}(this.value,this.props.schema,this.props.locale)},Object.defineProperty(t.prototype,"useInput",{get:function(){return void 0!==this.value&&(void 0===this.props.schema.enum||this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useSelect",{get:function(){return void 0!==this.value&&void 0!==this.props.schema.enum&&!this.isReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.props.readonly||this.props.schema.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeleteButtonFunction",{get:function(){return this.props.onDelete&&!this.isReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleToShow",{get:function(){return q(this.props.title,this.props.schema.title)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.props.schema.enum.map(function(e){return{value:e,label:e.toString()}})},enumerable:!0,configurable:!0}),t.prototype.updateSelection=function(e){this.value=+e,this.validate(),this.setState({value:this.value}),this.props.updateValue(this.value,!this.errorMessage)},t}(i.Component),B=function(e){function t(t){var r=e.call(this,t)||this;return r.willRender=!1,r.onChange=function(e){r.value=!r.value,r.setState({value:r.value}),r.props.updateValue(r.value,!0)},r.toggleOptional=function(){r.value=V(r.value,r.props.schema,r.props.initialValue),r.willRender=!0,r.setState({value:r.value}),r.props.updateValue(r.value,!0)},r.value=w(r.props.required,r.props.schema,r.props.initialValue),r}return n.b(t,e),t.prototype.componentDidMount=function(){this.props.updateValue(this.value,!0)},t.prototype.shouldComponentUpdate=function(e,t){return this.willRender?(this.willRender=!1,!0):this.props.initialValue!==e.initialValue},t.prototype.render=function(){var e=void 0!==this.value?i.createElement("div",null,i.createElement("div",{className:this.props.theme.radiobox},i.createElement("label",null,i.createElement("input",{type:"radio",onChange:this.onChange,checked:this.value,disabled:this.isReadOnly}),this.props.locale.info.true)),i.createElement("div",{className:this.props.theme.radiobox},i.createElement("label",null,i.createElement("input",{type:"radio",onChange:this.onChange,checked:!this.value,disabled:this.isReadOnly}),this.props.locale.info.false))):null;return i.createElement("div",{className:this.props.theme.row},i.createElement("label",{className:this.props.theme.title},this.titleToShow,i.createElement("div",{className:this.props.theme.buttonGroup,style:j},i.createElement(D,{required:this.props.required,value:this.value,isReadOnly:this.isReadOnly,theme:this.props.theme,locale:this.props.locale,toggleOptional:this.toggleOptional}),i.createElement(T,{valid:this.hasDeleteButtonFunction,onClick:this.props.onDelete,text:this.props.icon.delete,theme:this.props.theme,icon:this.props.icon}))),e,i.createElement(I,{theme:this.props.theme,message:this.props.schema.description}))},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.props.readonly||this.props.schema.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeleteButtonFunction",{get:function(){return this.props.onDelete&&!this.isReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleToShow",{get:function(){return q(this.props.title,this.props.schema.title)},enumerable:!0,configurable:!0}),t}(i.Component),U=function(e){function t(t){var r=e.call(this,t)||this;return r.toggleOptional=function(){r.value=V(r.value,r.props.schema,r.props.initialValue),r.setState({value:r.value}),r.props.updateValue(r.value,!0)},r.value=w(r.props.required,r.props.schema,r.props.initialValue),r}return n.b(t,e),t.prototype.componentDidMount=function(){this.props.updateValue(this.value,!0)},t.prototype.shouldComponentUpdate=function(e,t){return this.props.initialValue!==e.initialValue},t.prototype.render=function(){return i.createElement("div",{className:this.props.theme.row},i.createElement("label",{className:this.props.theme.title},this.titleToShow,i.createElement("div",{className:this.props.theme.buttonGroup,style:j},i.createElement(D,{required:this.props.required,value:this.value,isReadOnly:this.isReadOnly,theme:this.props.theme,locale:this.props.locale,toggleOptional:this.toggleOptional}),i.createElement(T,{valid:this.hasDeleteButtonFunction,onClick:this.props.onDelete,text:this.props.icon.delete,theme:this.props.theme,icon:this.props.icon}))),i.createElement(I,{theme:this.props.theme,message:this.props.schema.description}))},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.props.readonly||this.props.schema.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeleteButtonFunction",{get:function(){return this.props.onDelete&&!this.isReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleToShow",{get:function(){return q(this.props.title,this.props.schema.title)},enumerable:!0,configurable:!0}),t}(i.Component),G=r(16),H=r(15),J=function(e){function t(t){var r=e.call(this,t)||this;return r.collapsed=!1,r.willRender=!1,r.onChange=function(e){r.value=e.currentTarget.value,r.validate(),r.setState({value:r.value}),r.props.updateValue(r.value,!r.errorMessage)},r.toggleOptional=function(){r.value=V(r.value,r.props.schema,r.props.initialValue),r.validate(),r.willRender=!0,r.setState({value:r.value}),r.props.updateValue(r.value,!r.errorMessage)},r.collapseOrExpand=function(){r.willRender=!0,r.collapsed=!r.collapsed,r.setState({collapsed:r.collapsed})},r.value=w(r.props.required,r.props.schema,r.props.initialValue),r.validate(),r}return n.b(t,e),t.prototype.componentDidMount=function(){this.props.updateValue(this.value,!this.errorMessage)},t.prototype.shouldComponentUpdate=function(e,t){return this.willRender?(this.willRender=!1,!0):this.props.initialValue!==e.initialValue},t.prototype.render=function(){var e=this,t=this.canUpload?i.createElement(H.a,{locale:this.props.locale.fileUploaderLocale,fileGot:function(t){return e.fileGot(t)}}):null,r=this.useTextArea?i.createElement("textarea",{className:this.props.theme.textarea,onChange:this.onChange,defaultValue:this.value,rows:10,readOnly:this.isReadOnly,disabled:this.isReadOnly}):null,n=this.useInput?i.createElement("input",{className:this.props.theme.input,type:this.props.schema.format,onChange:this.onChange,defaultValue:this.value,readOnly:this.isReadOnly,disabled:this.isReadOnly}):null,a=this.useSelect?i.createElement(F.a,{data:this.options,value:this.value,update:function(t){return e.updateSelection(t)}}):null,o=this.willPreviewImage?i.createElement("img",{style:C,src:this.getImageUrl}):null,s=this.useTextArea&&this.willPreviewMarkdown?i.createElement(G.a,{locale:this.props.locale.markdownTipLocale}):null,l=this.willPreviewMarkdown?i.createElement("div",{dangerouslySetInnerHTML:{__html:this.getMarkdown}}):null,p=this.willPreviewCode?i.createElement("pre",null,i.createElement("code",{dangerouslySetInnerHTML:{__html:this.getCode}})):null;return i.createElement("div",{className:this.errorMessage?this.props.theme.errorRow:this.props.theme.row},i.createElement("label",{className:this.props.theme.title},this.titleToShow,i.createElement("div",{className:this.props.theme.buttonGroup,style:j},i.createElement(D,{required:this.props.required,value:this.value,isReadOnly:this.isReadOnly,theme:this.props.theme,locale:this.props.locale,toggleOptional:this.toggleOptional}),i.createElement(T,{valid:this.hasDeleteButtonFunction,onClick:this.props.onDelete,text:this.props.icon.delete,theme:this.props.theme,icon:this.props.icon}),i.createElement(T,{valid:this.canPreview,onClick:this.collapseOrExpand,text:this.collapsed?this.props.icon.expand:this.props.icon.collapse,theme:this.props.theme,icon:this.props.icon}))),t,r,n,a,o,s,l,p,i.createElement(I,{theme:this.props.theme,message:this.props.schema.description}),i.createElement(I,{theme:this.props.theme,message:this.errorMessage}))},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.props.readonly||this.props.schema.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeleteButtonFunction",{get:function(){return this.props.onDelete&&!this.isReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useTextArea",{get:function(){return void 0!==this.value&&!this.collapsed&&(void 0===this.props.schema.enum||this.isReadOnly)&&("textarea"===this.props.schema.format||"code"===this.props.schema.format||"markdown"===this.props.schema.format)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useInput",{get:function(){return void 0!==this.value&&!this.collapsed&&(void 0===this.props.schema.enum||this.isReadOnly)&&"textarea"!==this.props.schema.format&&"code"!==this.props.schema.format&&"markdown"!==this.props.schema.format},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useSelect",{get:function(){return void 0!==this.value&&void 0!==this.props.schema.enum&&!this.isReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canPreviewImage",{get:function(){return function(e){if(!e||e.length<="https://".length)return!1;if("http://"!==e.substr(0,"http://".length)&&"https://"!==e.substr(0,"https://".length))return!1;var t=e.substr(e.length-4,4);return-1!==k.indexOf(t)}(this.value)||!!(e=this.value)&&0===e.indexOf("data:image/")&&-1!==e.indexOf(";base64,");var e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canPreviewMarkdown",{get:function(){return this.props.md&&"markdown"===this.props.schema.format},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canPreviewCode",{get:function(){return this.props.hljs&&"code"===this.props.schema.format},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canPreview",{get:function(){return!!this.value&&(this.canPreviewImage||this.canPreviewMarkdown||this.canPreviewCode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getImageUrl",{get:function(){return this.props.forceHttps?S(this.value):this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getMarkdown",{get:function(){return this.props.md.render(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getCode",{get:function(){return this.props.hljs.highlightAuto(this.value).value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"willPreviewImage",{get:function(){return this.value&&!this.collapsed&&this.canPreviewImage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"willPreviewMarkdown",{get:function(){return this.value&&!this.collapsed&&this.canPreviewMarkdown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"willPreviewCode",{get:function(){return this.value&&!this.collapsed&&this.canPreviewCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleToShow",{get:function(){return q(this.props.title,this.props.schema.title)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.props.schema.enum.map(function(e){return{value:e,label:e}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canUpload",{get:function(){return"base64"===this.props.schema.format},enumerable:!0,configurable:!0}),t.prototype.updateSelection=function(e){this.value=e.toString(),this.validate(),this.setState({value:this.value}),this.props.updateValue(this.value,!this.errorMessage)},t.prototype.fileGot=function(e){var t=this,r=new FileReader;r.readAsDataURL(e),r.onload=function(){t.value=r.result,t.validate(),t.setState({value:t.value}),t.props.updateValue(t.value,!t.errorMessage)},r.onerror=function(e){console.log(e)}},t.prototype.validate=function(){this.errorMessage=function(e,t,r){if(void 0!==e){if(void 0!==t.minLength&&e.length<t.minLength)return r.error.minLength.replace("{0}",String(t.minLength));if(void 0!==t.maxLength&&e.length>t.maxLength)return r.error.maxLength.replace("{0}",String(t.maxLength));if(void 0!==t.pattern&&!new RegExp(t.pattern).test(e))return r.error.pattern.replace("{0}",String(t.pattern))}return""}(this.value,this.props.schema,this.props.locale)},t}(i.Component),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.b(t,e),t.prototype.render=function(){switch(this.props.schema.type){case"object":return i.createElement(A,n.a({},this.props));case"array":return i.createElement(_,n.a({},this.props));case"number":case"integer":return i.createElement(L,n.a({},this.props));case"boolean":return i.createElement(B,n.a({},this.props));case"null":return i.createElement(U,n.a({},this.props));case"string":return i.createElement(J,n.a({},this.props));default:return null}},t}(i.Component),z=function(e){function t(t){var r=e.call(this,t)||this;return r.updateValue=function(e,t){r.props.updateValue(e,t)},r.md=function(e,t,r){if(e){var n,i=e({linkify:!0,highlight:function(e,r){if(t)if(r&&t.getLanguage(r))try{return'<pre><code class="hljs '+r+'">'+t.highlight(r,e).value+"</code></pre>"}catch(e){M(e)}else try{return'<pre><code class="hljs">'+t.highlightAuto(e).value+"</code></pre>"}catch(e){M(e)}return'<pre><code class="hljs">'+i.utils.escapeHtml(e)+"</code></pre>"}});return i.renderer.rules.image=function(e,t,n,a,o){var s=e[t],l=s.attrIndex("src");return r&&(s.attrs[l][1]=S(s.attrs[l][1])),s.attrPush(["style",R]),i.renderer.rules.image(e,t,n,a,o)},n=i.renderer.rules.link_open?i.renderer.rules.link_open:function(e,t,r,n,i){return i.renderToken(e,t,r)},i.renderer.rules.link_open=function(e,t,r,i,a){return e[t].attrPush(["target","_blank"]),e[t].attrPush(["rel","nofollow"]),n(e,t,r,i,a)},i}}(r.props.markdownit,r.props.hljs,r.props.forceHttps),r}return n.b(t,e),t.prototype.render=function(){var e,t=void 0===(e=this.props.theme)?v:"string"==typeof e?y[e]||v:e,r=function(e){return e||E}(this.props.locale),n=function(e,t){return void 0===e?{isText:!0,collapse:t.button.collapse,expand:t.button.expand,add:t.button.add,delete:t.button.delete}:"string"==typeof e?O[e]||{isText:!0,collapse:t.button.collapse,expand:t.button.expand,add:t.button.add,delete:t.button.delete}:e}(this.props.icon,r);return i.createElement(W,{schema:this.props.schema,initialValue:this.props.initialValue,updateValue:this.updateValue,readonly:this.props.readonly,theme:t,locale:r,icon:n,required:!0,dragula:this.props.dragula,md:this.md,hljs:this.props.hljs,forceHttps:this.props.forceHttps})},t}(i.Component),$={type:"object",title:"GUI:",description:"a description example",properties:{stringExample:{type:"string",title:"A string example",description:"a string description example",default:"a default string example",minLength:20,maxLength:25},booleanExample:{type:"boolean",title:"A boolean example",description:"a boolean description example",default:!0},numberExample:{type:"number",title:"A number example",description:"a number description example",default:123.4,minimum:10,exclusiveMinimum:!0,maximum:1e3,exclusiveMaximum:!0},integerExample:{type:"integer",title:"A integer example",description:"a integer description example",default:124,multipleOf:2},nullExample:{type:"null",title:"A null example",description:"a null description example",default:null},objectExample:{type:"object",title:"A object example",description:"a object description example",properties:{propertyExample1:{type:"string"},propertyExample2:{type:"number"}},default:{},required:["propertyExample1","propertyExample2"]},arrayExample:{type:"array",title:"A array example",description:"a array description example",items:{type:"string",maxLength:15},default:["default item 1","default item 2"],minItems:1,uniqueItems:!0},readOnlyExample:{type:"string",readonly:!0,default:"abc"},readOnlyAndOptionalExample:{type:"string",readonly:!0,default:"abc"},enumExample:{type:"string",enum:["enum 1","enum 2"]},optionalExample:{type:"string"},optionalAndDefaultExample:{type:"string",default:"abc"},booleanOptionalExample:{type:"boolean"},colorExample:{type:"string",format:"color",default:"#000000"},textareaExample:{type:"string",format:"textarea"},patternExample:{type:"string",pattern:"^[A-z]{3}$",default:"abc"},imagePreviewExample:{type:"string",default:"http://image2.sina.com.cn/bj/art/2004-08-02/U91P52T4D51657F160DT20040802125523.jpg"},markdownExample:{type:"string",format:"markdown",default:"###### markdown title and code example\n\n```js\nfunction foo(bar) {\n    console.log(bar);\n}\n```"},codeExample:{type:"string",format:"code",default:"function foo(bar) {\n    console.log(bar);\n}\n"},itemTitleExample:{type:"array",items:{type:"object",properties:{propertyExample1:{type:"string"},propertyExample2:{type:"number"}},required:["propertyExample1","propertyExample2"],collapsed:!0},default:[{propertyExample1:"foo",propertyExample2:1},{propertyExample1:"bar",propertyExample2:2},{propertyExample1:"baz",propertyExample2:3},{propertyExample1:"abc",propertyExample2:4},{propertyExample1:"def",propertyExample2:5},{propertyExample1:"ghi",propertyExample2:6}]},optionalObjectExample:{type:"object",properties:{propertyExample1:{type:"string"},propertyExample2:{type:"number"}},maxProperties:1,minProperties:0},propertyOrderExample:{type:"object",properties:{propertyExample1:{type:"string",propertyOrder:3},propertyExample2:{type:"number",propertyOrder:1},propertyExample3:{type:"number",propertyOrder:2}}},collapsedObjectExample:{type:"object",properties:{propertyExample1:{type:"string"}},collapsed:!0},emptyEnumExample:{type:"string",enum:[]},uploadFileExample:{type:"string",format:"base64"},requiredWhenExample:{type:"object",properties:{kind:{type:"string",enum:["enum 1","enum 2","enum 3"]},propertyExample1:{type:"number",requiredWhen:["kind","===","enum 1"]},propertyExample2:{type:"string",requiredWhen:["kind","===","enum 2"]},propertyExample3:{type:"number",requiredWhen:["kind","in",["enum 1","enum 2"]]},propertyExample4:{type:"string"},propertyExample5:{type:"string"}},required:["kind","propertyExample4"]}},required:["stringExample","booleanExample","numberExample","integerExample","nullExample","objectExample","arrayExample","readOnlyExample","enumExample","colorExample","textareaExample","patternExample","imagePreviewExample","markdownExample","codeExample","performanceExample","itemTitleExample","optionalObjectExample","propertyOrderExample","collapsedObjectExample","emptyEnumExample","uploadFileExample","requiredWhenExample"]},K={},Q="bootstrap3",X="fontawesome4",Y=localStorage.getItem("json-editor:properties");if(Y)try{var Z=JSON.parse(Y);$=JSON.parse(Z.schema),K=JSON.parse(Z.initialValue),Q=Z.theme,X=Z.icon}catch(e){console.log(e)}var ee={type:"object",title:"properties of the component",description:"refresh the page to make it work when you change it",properties:{schema:{type:"string",format:"textarea"},initialValue:{type:"string",format:"textarea"},theme:{type:"string",enum:["bootstrap3","antd3","element-ui2","(undefined)"]},icon:{type:"string",enum:["bootstrap3","fontawesome4","antd3","element-ui2","(undefined)"]}},required:["schema","initialValue","theme","icon"]},te={schema:JSON.stringify($,null,"  "),initialValue:JSON.stringify(K,null,"  "),theme:Q,icon:X};function re(e){var t=document.createElement("link");t.href="/packages/core/demo/css/"+e,t.type="text/css",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t)}"bootstrap3"!==Q&&"bootstrap3"!==X||re("bootstrap.min.css"),"fontawesome4"===X&&re("font-awesome.min.css"),"antd3"!==Q&&"antd3"!==X||re("antd.min.css"),"element-ui2"!==Q&&"element-ui2"!==X||re("element-ui/index.css");var ne=r(9),ie=r(8),ae=r(6),oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.locale=null,t.schema=$,t.initialValue=K,t.isValid=!1,t.propertiesSchema=ee,t.propertiesInitialValue=te,t.updatePropertiesValue=function(e,t){try{localStorage.setItem("json-editor:properties",JSON.stringify(e))}catch(e){console.log(e)}},t.updateValue=function(e,r){t.initialValue=e,t.isValid=r,t.setState({initialValue:t.initialValue})},t}return n.b(t,e),t.prototype.componentWillMount=function(){var e=this;"zh-CN"===navigator.language&&r(21)("./"+navigator.language+".js").then(function(t){e.locale=t.locale,e.setState({locale:e.locale})})},t.prototype.render=function(){var e=ae.highlight("json",JSON.stringify(this.initialValue,null,"  ")).value;return i.createElement("div",{style:{position:"relative"}},i.createElement("a",{href:"https://github.com/plantain-00/schema-based-json-editor/tree/master/packages/react/demo",target:"_blank"},"the source code of the demo"),i.createElement("br",null),i.createElement("div",{style:{margin:"10px",width:"30%",position:"absolute"},className:"bootstrap3-row-container"},i.createElement(z,{schema:this.propertiesSchema,initialValue:this.propertiesInitialValue,updateValue:this.updatePropertiesValue,theme:Q,icon:X,locale:this.locale,dragula:ne,markdownit:ie,hljs:ae})),i.createElement("div",{style:{width:"35%",margin:"10px",position:"absolute",left:"31%"},className:"bootstrap3-row-container"},i.createElement(z,{schema:this.schema,initialValue:this.initialValue,updateValue:this.updateValue,theme:Q,icon:X,locale:this.locale,dragula:ne,markdownit:ie,hljs:ae})),i.createElement("div",{style:{margin:"10px",width:"30%",position:"absolute",right:"10px"}},"Value:",i.createElement("pre",{style:{borderColor:this.isValid?"black":"red"}},i.createElement("code",{dangerouslySetInnerHTML:{__html:e}}))))},t}(i.Component);a.render(i.createElement(oe,null),document.getElementById("container"))},21:function(e,t,r){var n={"./zh-CN.js":[222,0,1]};function i(e){var t=n[e];return t?Promise.all(t.slice(1).map(r.e)).then(function(){return r(t[0])}):Promise.resolve().then(function(){var t=new Error('Cannot find module "'+e+'".');throw t.code="MODULE_NOT_FOUND",t})}i.keys=function(){return Object.keys(n)},i.id=21,e.exports=i}});